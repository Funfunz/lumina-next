import { Meta, Markdown } from '@storybook/blocks'

import Github from '../assets/github.svg'

<Meta title='Docs/Required Configuration' />

# Required Configuration

## Overview

The components should export a config object with the following properties:

<table>
  <thead>
    <tr>
      <td>**Name**</td>
      <td>**Type**</td>
      <td>**Description**</td>
      <td>**Required**</td>
      <td>**Default**</td>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        name
      </td>
      <td>
          <span style={{color:"green"}}>string</span>
      </td>
      <td>
        The name of the component
      </td>
      <td>
        ✅
      </td>
      <td>
        undefined
      </td>
    </tr>
    <tr>
      <td>
        type
      </td>
      <td>
          <span style={{color:"green"}}>string</span>
      </td>
      <td>
        Identifies the type of component. Types cannot be shared between components.
      </td>
      <td>
        ✅
      </td>
      <td>
        undefined
      </td>
    </tr>
    <tr>
      <td>
        props
      </td>
      <td>
          <span style={{color:"green"}}>object</span>
      </td>
      <td>
        An object that identifies each property needed by the component.
      </td>
      <td>
        ❌
      </td>
      <td>
        {"{}"}
      </td>
    </tr>
    <tr>
      <td>
        editor
      </td>
      <td>
          <span style={{color:"green"}}>object</span>
      </td>
      <td>
        An object used by Lumina to know the available actions allowed.
      </td>
      <td>
        ❌
      </td>
      <td>
        ```json
          {
          "children": false,
          "editable": true,
          "delete": true,
        }
        ```
      </td>
    </tr>
    <tr>
      <td>
        editor.children
      </td>
      <td>
          <span style={{color:"green"}}>boolean</span>
      </td>
      <td>
        Children components allowed, true if yes, false if no.
      </td>
      <td>
        ❌
      </td>
      <td>
        false
      </td>
    </tr>
    <tr>
      <td>
        editor.editable
      </td>
      <td>
          <span style={{color:"green"}}>boolean</span>
      </td>
      <td>
        Component is editable, true if yes, false if no.
      </td>
      <td>
        ❌
      </td>
      <td>
        true
      </td>
    </tr>
    <tr>
      <td>
        editor.delete
      </td>
      <td>
          <span style={{color:"green"}}>boolean</span>
      </td>
      <td>
        Component can be deleted, true if yes, false if no.
      </td>
      <td>
        ❌
      </td>
      <td>
        true
      </td>
    </tr>
  </tbody>
</table>

### Example config

```js
import { TConfig } from '@lumina/core'

export const config: TConfig = {
  name: 'Title',
  type: 'title',
  props: [
    {
      type: 'string',
      name: 'title',
      label: 'Title',
    },
  ],
  editor: {
    children: false,
    editable: true,
    delete: true,
  },
}
```

The configuration file, luminaConfig, acts as a central registry where each component is defined with its specific settings.
The configuration is managed through a central object, TComponentConfig, which serves as the registry for all components.
This setup ensures that components are modular, easily configurable, and maintainable across Lumina.

## General Configuration

### Configuration Type Definition

```js
TComponentConfig = {
  [key: string]: {
    component: (data: any) => React.JSX.Element | null;
    config: TConfig;
  };
};
```

### Configuration Structure

Each component in the luminaConfig object is defined by a specific structure:

```js
component: {
  component: componentType,
  config: componentConfig,
},
```

**componentName**: This is a unique identifier for the component in the configuration file.
**component**: This refer to the React component itself.
**config**: This object contains the configuration details specific to the component, such as default props, style overrides, or other settings that customize the component's behavior.

### Examples

Let's consider two components, `title` and `flex`. The `title` component is used to display headings and titles throughout the application and the `flex` component is typically used to create flexible layouts.
In general configuration:

```ts
const luminaConfig: TComponentConfig = {
  title: {
    component: Title,
    config: configTitle,
  },
  flex: {
    component: Flex,
    config: configFlex,
  },
}
```

The component field refers to the component, in the example `title` or `flex`, that is imported from project.
The config field, in the example configTitle or configFlex, contain the settings of each component.

<div className='sb-section-title'>
 ## Component Configuration
  </div>
  <div className='sb-section-title'>
  ### Overview

After understanding the general configuration, we now focus on how to configure each component individually. This approach provides flexibility to tailor each component's behavior and appearance according to specific needs.

### Configuration Type Definition

    ```js

TConfig = {
name: string;
type: string;
props?: (TConfigItemValue | TConfigItemSelect)[];
editor: TEditorConfig;
};

````

### Configuration Structure

Each component's configuration within the `TConfig` object is defined by a specific structure:

```ts
componentConfig: {
    name: componentName,
    type: componentType,
    props?: componentProps,
    editor: componentEditorConfig,
},
````

**name** refers to the component name, how it's called throughout the application. This is a mandatory field.
**type** is the type of the component. This is a mandatory field.
**props** is the props that the component will receive.
**editor** defines the configuration for how the component can be edited.

### Examples

Now let's consider the component `image` and its configuration.

```ts
const config: TConfig = {
  name: 'Image',
  type: 'image',
  props: [
    {
      type: 'string',
      name: 'href',
      label: 'Href',
    },
    {
      type: 'string',
      name: 'alt',
      label: 'Alt',
    },
  ],
  editor: {
    children: false,
    editable: true,
    delete: true,
  },
}
```

</div>

  <div className='sb-section-title'>
## How to test

      How to test each component?

    </div>

<style>
  {`
  .sb-container {
    margin-bottom: 48px;
  }

  .sb-section {
    width: 100%;
    display: flex;
    flex-direction: row;
    gap: 20px;
  }

  img {
    object-fit: cover;
  }

  .sb-section-title {
    margin-bottom: 32px;
  }

  .sb-section a:not(h1 a, h2 a, h3 a) {
    font-size: 14px;
  }

  .sb-section-item, .sb-grid-item {
    flex: 1;
    display: flex;
    flex-direction: column;
  }

  .sb-section-item-heading {
    padding-top: 20px !important;
    padding-bottom: 5px !important;
    margin: 0 !important;
  }
  .sb-section-item-paragraph {
    margin: 0;
    padding-bottom: 10px;
  }

  @media screen and (max-width: 600px) {
    .sb-section {
      flex-direction: column;
    }
  `}
</style>

```

```

```

```
