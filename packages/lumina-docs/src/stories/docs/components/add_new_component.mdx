import { Meta, Markdown } from '@storybook/blocks'
import Github from '../../assets/github.svg'

<Meta title='Docs/Components/Add new component' />

# Add a new component

## Guide

1. Create component folder inside src/components. The component file, styles and its configuration should be inside the same folder.
2. Create - see [Component](/docs/docs-components-add-new-component--documentation#component)
3. Configuration - see [General Configuration](/docs/docs-components-add-new-component--documentation#general-configuration)

## Component

<table>

  <thead>
    <tr>
      <td>**Required import**</td>
    <td>**Description**</td>
      <td>**Required**</td>
      <td>**Example**</td>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Needs from lumina core - see [Helpers](/docs/docs-components-add-new-component--documentation#helpers)</td>
       <td>Importing required code from core package</td>
      <td>❌</td>
      <td>
      ```ts
      import { EditorButtonsContainer } from '@lumina/core'
      ```
      </td>

    </tr>
    <tr>
      <td>Configuration file - see [Required Configuration](/docs/docs-components-required-configuration--documentation) to understand the required configuration forthe component</td>
      <td>Importing required configuration for the specific component</td>
      <td>❌</td>
      <td>
      ```ts
    import { config } from './config'
      ```
      </td>
    </tr>
     <tr>
      <td>Styles</td>
      <td>Importing styles for the component</td>
      <td>❌</td>
      <td>
      ```ts
      import styles from './styles.scss'
      ```
      </td>
    </tr>

  </tbody>
</table>

### Example

```ts

import { EditorButtonsContainer } from '@lumina/core'
import { config } from './config'
import cx from 'classnames'
import styles from './button.module.scss'

const Button = ({ id, size = 'medium', style = 'outlined', text = 'button' }: TProps) => {
  const buttonStyles = cx(styles.button, style, size, styles.buttonContainer)

  return (
    <div>
      <button className={buttonStyles}>
        {text}
        <EditorButtonsContainer id={id} config={config} componentProps={{ size, style, text }} />
      </button>
    </div>
  )
}

```

## General configuration

All components should set their configurations on the general config.ts file, on the root of the project

```ts
import { Button } from '../components/button/button'
import { LinkBox } from '../components/linkBox/linkBoxV3'
import { Grid } from '../components//grid/grid'
import { Image } from '../components/image/image'
import { Title } from '../components/title/title'
import { Text } from '../components/text/text'
import { Flex } from '../components/flex/flex'
import { config as configLinkBox } from '../components/linkBox/config'
import { config as configGrid } from '../components/grid/config'
import { config as configImage } from '../components/image/config'
import { config as configTitle } from '../components/title/config'
import { config as configText } from '../components/text/config'
import { config as configFlex } from '../components/flex/config'
import { config as configButton } from '../components/button/config'

luminaConfig: TComponentConfig = {
  linkbox: {
    component: LinkBox,
    config: configLinkBox,
  },
  image: {
    component: Image,
    config: configImage,
  },
  title: {
    component: Title,
    config: configTitle,
  },
  flex: {
    component: Flex,
    config: configFlex,
  },
  button: {
    component: Button,
    config: configButton,
  },
}
```

- **component** : the component itself.
- **config** : configurations for the component - see [Required Configuration](/docs/docs-components-required-configuration--documentation).

## Helpers

- **EditButtonsContainer** - This component is used to easily have access to the editor options, like editing or deleting the component.
  This component will add a container to your component, containing editor buttons.

## Example

_Image component_

```ts
import { config } from './config'
import { EditorButtonsContainer } from '@lumina/core'
import styles from './image.scss'


export const Image = ({ href, alt, id }: TProps) => {
  if (!href) return null
  return (
    <div className={styles.imageContainer}>
      <img className='image' src={href} alt={alt} />
      <EditorButtonsContainer id={id} config={config} componentProps={{ href, alt }} />
    </div>
  )
}

```

---

_Image component configuration_

```ts
import type { TConfig } from '@lumina/core'

export const config: TConfig = {
  name: 'Image',
  type: 'image',
  props: [
    {
      type: 'string',
      name: 'href',
      label: 'Href',
    },
    {
      type: 'string',
      name: 'alt',
      label: 'Alt',
    },
  ],
  editor: {
    children: false,
    editable: true,
    delete: true,
  },
}
```

---

_Lumina configuration_

```ts
const luminaConfig: TComponentConfig = {
  image: {
    component: Image,
    config: configImage,
  },
}
```
